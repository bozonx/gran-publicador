
###### Basic app settings
NODE_ENV=development
SERVER_HOST=localhost
SERVER_PORT=8080
# SERVER_BASE_PATH=
LOG_LEVEL=debug
# Force application timezone (affects pretty logs)
TZ=UTC

# Timeout for graceful shutdown in seconds (default: 30)
SHUTDOWN_TIMEOUT_SECONDS=30

# Default timeout for microservice requests in seconds (default: 30)
MICROSERVICE_REQUEST_TIMEOUT_SECONDS=30

###### Scheduler Configuration. It publish posts and process scheduled tasks
# Interval in seconds between scheduler checks (default: 60)
SCHEDULER_INTERVAL_SECONDS=60
# "Past window" in minutes for processing scheduled tasks (default: 10)
SCHEDULER_WINDOW_MINUTES=10

###### Main connections
DATABASE_URL="postgresql://gran:gran_password@postgres:5432/gran_db?schema=public"
# Frontend URL for publication links in bot messages
FRONTEND_URL="https://your-domain.com"
# URL of the API for the frontend. Defult is the domain where the frontend of the app is running
# NUXT_PUBLIC_API_BASE=https://your-domain.com

###### Redis Configuration
# Whether Redis is enabled. If false, in-memory store will be used. (default: true)
REDIS_ENABLED=true
# Redis host (default: localhost)
REDIS_HOST=redis
# Redis port (default: 6379)
REDIS_PORT=6379
# Redis password (empty if not needed)
REDIS_PASSWORD=
# Redis database index (default: 0)
REDIS_DB=0
# Redis key prefix (optional, default: empty). Use this to separate keys of different apps in the same Redis instance.
# REDIS_KEY_PREFIX=gran:

###### Authentication
# OPTIONAL: Telegram ID of the super administrator
TELEGRAM_ADMIN_ID=""
# MANDATORY: Change this to a long random string
JWT_SECRET="generate-a-very-long-and-secure-secret-here"
# MANDATORY: Token from @BotFather. It is used for telegram bot and for authorization of users
TELEGRAM_BOT_TOKEN=""

###### Telegram Bot Configuration
# Whether to enable the Telegram bot for repost collection
TELEGRAM_BOT_ENABLED=true
# Session TTL in minutes for Telegram bot (default: 10)
TELEGRAM_SESSION_TTL_MINUTES=10

###################################################
########## MICROSERVICES CONFIGURATION ############
###################################################

###### Social Posting Configuration
# Microservice URL (e.g., http://social-posting:8080/api/v1)
SOCIAL_POSTING_SERVICE_URL="http://ssocial-media-posting-microservice:8080/api/v1"
# Total time limit for processing a request, including all retries and platform delays (seconds)
SOCIAL_POSTING_REQUEST_TIMEOUT_SECS=60
# How long to keep idempotency keys in cache to prevent duplicate posts (minutes)
SOCIAL_POSTING_IDEMPOTENCY_TTL_MINUTES=10

###### Free LLM Router Configuration
# Free LLM Router microservice URL
FREE_LLM_ROUTER_URL="http://free-llm-router-microservice:8080/api/v1"
# Default tags for model selection (comma-separated, e.g., "fast,best-for-ru")
FREE_LLM_ROUTER_TAGS="fast"
# Default model type: "fast" or "reasoning" (optional)
# FREE_LLM_ROUTER_TYPE="fast"
# Maximum model switches per request (optional)
# FREE_LLM_ROUTER_MAX_MODEL_SWITCHES=3
# Maximum retries on the same model (optional)
# FREE_LLM_ROUTER_MAX_SAME_MODEL_RETRIES=2
# Retry delay in milliseconds (optional)
# FREE_LLM_ROUTER_RETRY_DELAY=3000
# Request timeout in seconds (optional)
# FREE_LLM_ROUTER_TIMEOUT_SECS=60
# Fallback provider (optional, e.g., "deepseek")
# FREE_LLM_ROUTER_FALLBACK_PROVIDER=""
# Fallback model (optional, e.g., "deepseek-chat")
# FREE_LLM_ROUTER_FALLBACK_MODEL=""
# Minimum context size (optional)
# FREE_LLM_ROUTER_MIN_CONTEXT_SIZE=32000
# Minimum max output tokens (optional)
# FREE_LLM_ROUTER_MIN_MAX_OUTPUT_TOKENS=4000

###### Translation Configuration
# Translation Gateway microservice URL
TRANSLATE_SERVICE_URL="http://translate-gateway-microservice:8080/api/v1"
# Default translation provider (anylang, google, deepl, etc.)
TRANSLATE_DEFAULT_PROVIDER="anylang"
# Default model for the provider (optional)
# TRANSLATE_DEFAULT_MODEL="auto"
# Request timeout in seconds (default: 50, range: 1-600)
TRANSLATE_TIMEOUT_SEC=50
# Maximum allowed input text length (default: 1000000, range: 100-10000000)
TRANSLATE_MAX_TEXT_LENGTH=1000000
# Maximum retry attempts (default: 3, range: 0-30)
TRANSLATE_RETRY_MAX_ATTEMPTS=3
# Initial retry delay in milliseconds (default: 1000, range: 0-600000)
TRANSLATE_RETRY_INITIAL_DELAY_MS=1000
# Maximum retry delay in milliseconds (default: 5000, range: 0-600000)
TRANSLATE_RETRY_MAX_DELAY_MS=5000

###### Media Storage Configuration
# Media Storage microservice URL
MEDIA_STORAGE_SERVICE_URL="http://media-storage-microservice:8080/api/v1"
# Request timeout in seconds (default: 60)
MEDIA_STORAGE_TIMEOUT_SECS=60
# Maximum file size in megabytes (default: 100)
MEDIA_STORAGE_MAX_FILE_SIZE_MB=100
# Thumbnail settings (optional)
# Thumbnail quality (default: 80)
THUMBNAIL_QUALITY=80

###### Speech-To-Text Configuration
# STT Gateway microservice URL
STT_SERVICE_URL="http://stt-gateway-microservice:8080/api/v1"
# Request timeout in milliseconds (default: 300000)
STT_TIMEOUT_MS=300000
# Maximum audio file size in bytes (default: 10MB)
STT_MAX_FILE_SIZE=10485760

###### News Service Configuration
# News Service microservice URL
NEWS_SERVICE_URL="http://news-service-microservice:8080/api/v1"
# Interval in minutes for checking news notifications (default: 10)
NEWS_NOTIFICATION_INTERVAL_MINUTES=10
# Maximum lookback window in hours for news scheduler (default: 3)
NEWS_SCHEDULER_LOOKBACK_HOURS=3
# Optional fingerprint for news refresh (JSON string)
# NEWS_REFRESH_FINGERPRINT='{"userAgent": "...", "viewport": "..."}'
# Optional mode for news refresh (default: fast)
# NEWS_REFRESH_MODE=fast

###### Page Scraper Configuration
# Page Scraper microservice URL
PAGE_SCRAPER_URL="http://page-scraper-microservice:8080/api/v1"
