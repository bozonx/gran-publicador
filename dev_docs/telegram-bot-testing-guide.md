# Telegram Bot Testing Guide

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å –≤ `.env.development`:

```bash
# Telegram Bot
TELEGRAM_BOT_TOKEN="your_bot_token_from_botfather"
TELEGRAM_BOT_ENABLED=true
TELEGRAM_SESSION_TTL_MINUTES=10

# Frontend URL –¥–ª—è —Å—Å—ã–ª–æ–∫ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –±–æ—Ç–∞
FRONTEND_URL="http://localhost:3000"

# Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω in-memory fallback)
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
```

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ó–∞–ø—É—Å—Ç–∏ Redis (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å)
docker compose up -d

# –ó–∞–ø—É—Å—Ç–∏ backend
pnpm start:dev

# –ó–∞–ø—É—Å—Ç–∏ frontend (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd ui && pnpm dev
```

## –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

1. **–û—Ç–ø—Ä–∞–≤—å `/start` –±–æ—Ç—É**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü—Ä–æ–≤–µ—Ä—å –≤ –ë–î: —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å telegramId

2. **–û—Ç–ø—Ä–∞–≤—å —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 
     - –°–æ–æ–±—â–µ–Ω–∏–µ "‚úÖ –ß–µ—Ä–Ω–æ–≤–∏–∫ —Å–æ–∑–¥–∞–Ω!"
     - –ö–Ω–æ–ø–∫–∏ "‚úÖ –ì–æ—Ç–æ–≤–æ" –∏ "üóë –û—Ç–º–µ–Ω–∏—Ç—å"
     - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: 1 source text, 0 media
   - –ü—Ä–æ–≤–µ—Ä—å –≤ –ë–î: —Å–æ–∑–¥–∞–Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º DRAFT

3. **–û—Ç–ø—Ä–∞–≤—å –µ—â–µ –æ–¥–Ω–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
     - –ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±–Ω–æ–≤–∏–ª–æ—Å—å
     - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: 2 source texts
   - –ü—Ä–æ–≤–µ—Ä—å –≤ –ë–î: –≤ sourceTexts –º–∞—Å—Å–∏–≤–µ 2 —ç–ª–µ–º–µ–Ω—Ç–∞

4. **–ù–∞–∂–º–∏ "‚úÖ –ì–æ—Ç–æ–≤–æ"**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
     - –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é
     - –°—Å—ã–ª–∫–∞ –≤–∏–¥–∞: `http://localhost:3000/publications/{id}`
   - –ü—Ä–æ–≤–µ—Ä—å: —Å–µ—Å—Å–∏—è —É–¥–∞–ª–µ–Ω–∞ –∏–∑ Redis
   - –û—Ç–∫—Ä–æ–π —Å—Å—ã–ª–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ: –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —á–µ—Ä–Ω–æ–≤–∏–∫

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–∞–±–æ—Ç–∞ —Å –º–µ–¥–∏–∞

1. **–û—Ç–ø—Ä–∞–≤—å `/start`**

2. **–û—Ç–ø—Ä–∞–≤—å —Ñ–æ—Ç–æ —Å –ø–æ–¥–ø–∏—Å—å—é**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
     - –ß–µ—Ä–Ω–æ–≤–∏–∫ —Å–æ–∑–¥–∞–Ω
     - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: 1 source text, 1 media
   - –ü—Ä–æ–≤–µ—Ä—å –≤ –ë–î:
     - –°–æ–∑–¥–∞–Ω–∞ Media –∑–∞–ø–∏—Å—å —Å type=IMAGE, storageType=TELEGRAM
     - –°–æ–∑–¥–∞–Ω–∞ PublicationMedia —Å–≤—è–∑—å

3. **–û—Ç–ø—Ä–∞–≤—å –≤–∏–¥–µ–æ**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
     - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: 1 source text, 2 media
   - –ü—Ä–æ–≤–µ—Ä—å –≤ –ë–î: 2 Media –∑–∞–ø–∏—Å–∏

4. **–û—Ç–ø—Ä–∞–≤—å –¥–æ–∫—É–º–µ–Ω—Ç**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
     - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: 1 source text, 3 media

5. **–ù–∞–∂–º–∏ "‚úÖ –ì–æ—Ç–æ–≤–æ"**
   - –û—Ç–∫—Ä–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏—é –≤ UI
   - –ü—Ä–æ–≤–µ—Ä—å: –≤—Å–µ –º–µ–¥–∏–∞ —Ñ–∞–π–ª—ã –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –†–µ–ø–æ—Å—Ç—ã/–§–æ—Ä–≤–∞—Ä–¥—ã

1. **–û—Ç–ø—Ä–∞–≤—å `/start`**

2. **–ü–µ—Ä–µ—à–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞ (forward)**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
     - –ß–µ—Ä–Ω–æ–≤–∏–∫ —Å–æ–∑–¥–∞–Ω
     - –í meta —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ forwardOrigin
   - –ü—Ä–æ–≤–µ—Ä—å –≤ –ë–î:
     - publication.meta.telegramOrigin.forwardOrigin –Ω–µ null
     - sourceTexts[0].source —Å–æ–¥–µ—Ä–∂–∏—Ç "telegram:"

3. **–ü–µ—Ä–µ—à–ª–∏ –µ—â–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π**
   - –ü—Ä–æ–≤–µ—Ä—å: –≤—Å–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ sourceTexts

4. **–ù–∞–∂–º–∏ "‚úÖ –ì–æ—Ç–æ–≤–æ"**
   - –û—Ç–∫—Ä–æ–π –≤ UI
   - –ü—Ä–æ–≤–µ—Ä—å: –≤—Å–µ source texts –Ω–∞ –º–µ—Å—Ç–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –û—Ç–º–µ–Ω–∞

1. **–û—Ç–ø—Ä–∞–≤—å `/start`**

2. **–û—Ç–ø—Ä–∞–≤—å —Å–æ–æ–±—â–µ–Ω–∏–µ** (—Å–æ–∑–¥–∞—Å—Ç—Å—è —á–µ—Ä–Ω–æ–≤–∏–∫)

3. **–ù–∞–∂–º–∏ "üóë –û—Ç–º–µ–Ω–∏—Ç—å"**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
     - –°–æ–æ–±—â–µ–Ω–∏–µ "‚ùå –ß–µ—Ä–Ω–æ–≤–∏–∫ –æ—Ç–º–µ–Ω—ë–Ω"
   - –ü—Ä–æ–≤–µ—Ä—å –≤ –ë–î: –ø—É–±–ª–∏–∫–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞
   - –ü—Ä–æ–≤–µ—Ä—å Redis: —Å–µ—Å—Å–∏—è —É–¥–∞–ª–µ–Ω–∞

4. **–û—Ç–ø—Ä–∞–≤—å –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: —Å–æ–∑–¥–∞—Å—Ç—Å—è –Ω–æ–≤—ã–π —á–µ—Ä–Ω–æ–≤–∏–∫

### –°—Ü–µ–Ω–∞—Ä–∏–π 5: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

1. **–û—Ç–ø—Ä–∞–≤—å `/start` (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

2. **–°–æ–∑–¥–∞–π —á–µ—Ä–Ω–æ–≤–∏–∫**

3. **–û—Ç–ø—Ä–∞–≤—å `/start` —Å–Ω–æ–≤–∞**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
     - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
     - –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å–µ—Å—Å–∏—è –æ—á–∏—â–µ–Ω–∞
   - –ü—Ä–æ–≤–µ—Ä—å Redis: —Å—Ç–∞—Ä–∞—è —Å–µ—Å—Å–∏—è —É–¥–∞–ª–µ–Ω–∞

### –°—Ü–µ–Ω–∞—Ä–∏–π 6: –ó–∞–±–∞–Ω–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

1. **–ó–∞–±–∞–Ω—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î**:
   ```sql
   UPDATE users SET is_banned = true, ban_reason = 'Test ban' WHERE telegram_id = YOUR_TELEGRAM_ID;
   ```

2. **–û—Ç–ø—Ä–∞–≤—å –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
     - –°–æ–æ–±—â–µ–Ω–∏–µ "üö´ –í–∞—à –∞–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω"
     - –ü—Ä–∏—á–∏–Ω–∞: "Test ban"
     - –î–∞–ª—å–Ω–µ–π—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

3. **–†–∞–∑–±–∞–Ω—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**:
   ```sql
   UPDATE users SET is_banned = false, ban_reason = NULL WHERE telegram_id = YOUR_TELEGRAM_ID;
   ```

### –°—Ü–µ–Ω–∞—Ä–∏–π 7: –ò—Å—Ç–µ—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏

1. **–°–æ–∑–¥–∞–π —á–µ—Ä–Ω–æ–≤–∏–∫**

2. **–£—Å—Ç–∞–Ω–æ–≤–∏ –∫–æ—Ä–æ—Ç–∫–∏–π TTL** (–≤ `.env`):
   ```bash
   TELEGRAM_SESSION_TTL_MINUTES=1
   ```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ backend**

4. **–°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —á–µ—Ä–Ω–æ–≤–∏–∫**

5. **–ü–æ–¥–æ–∂–¥–∏ 1+ –º–∏–Ω—É—Ç—É**

6. **–û—Ç–ø—Ä–∞–≤—å —Å–æ–æ–±—â–µ–Ω–∏–µ**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: —Å–æ–∑–¥–∞—Å—Ç—Å—è –ù–û–í–´–ô —á–µ—Ä–Ω–æ–≤–∏–∫ (—Å—Ç–∞—Ä–∞—è —Å–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞)

### –°—Ü–µ–Ω–∞—Ä–∏–π 8: –ë–µ–∑ Redis

1. **–û—Å—Ç–∞–Ω–æ–≤–∏ Redis**:
   ```bash
   docker compose stop redis
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ backend**
   - –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ fallback –Ω–∞ in-memory

3. **–°–æ–∑–¥–∞–π —á–µ—Ä–Ω–æ–≤–∏–∫**
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è in-memory store)

4. **–ü—Ä–æ–≤–µ—Ä—å**: —Å–µ—Å—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ UI

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞:

1. **–û—Ç–∫—Ä–æ–π —Å—Å—ã–ª–∫—É –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è "–ì–æ—Ç–æ–≤–æ"**
2. **–ü—Ä–æ–≤–µ—Ä—å**:
   - –°—Ç–∞—Ç—É—Å: DRAFT
   - –ö–æ–Ω—Ç–µ–Ω—Ç: —Ç–µ–∫—Å—Ç –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
   - Source Texts: –≤—Å–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã
   - Media: –≤—Å–µ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
   - Meta: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Telegram –∏—Å—Ç–æ—á–Ω–∏–∫–µ

3. **–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –ø—É–±–ª–∏–∫–∞—Ü–∏—é –≤ UI**
4. **–ò—Å–ø–æ–ª—å–∑—É–π LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** –Ω–∞ –æ—Å–Ω–æ–≤–µ source texts
5. **–°–æ–∑–¥–∞–π –ø–æ—Å—Ç—ã** –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤
6. **–û–ø—É–±–ª–∏–∫—É–π**

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

–í–∫–ª—é—á–∏ debug –ª–æ–≥–∏:
```bash
LOG_LEVEL=debug
```

–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –Ω–∞:
- `Received /start from ...`
- `Received message from ...`
- `Received callback from ...`
- `Session set for user ...`
- `Session deleted for user ...`

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**: –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ AUDIO, –Ω–æ —Ç–µ–∫—Å—Ç –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è
2. **–°—Ç–∏–∫–µ—Ä—ã**: –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
3. **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è**: –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
4. **–ö–æ–Ω—Ç–∞–∫—Ç—ã**: –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
5. **Polls**: –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è

## Troubleshooting

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å `TELEGRAM_BOT_TOKEN`
- –ü—Ä–æ–≤–µ—Ä—å `TELEGRAM_BOT_ENABLED=true`
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `Telegram Bot @username started`

### –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ Prisma
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ë–î –¥–æ—Å—Ç—É–ø–Ω–∞

### –°–µ—Å—Å–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å Redis –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å fallback –Ω–∞ in-memory
- –ü—Ä–æ–≤–µ—Ä—å `TELEGRAM_SESSION_TTL_MINUTES`

### –ú–µ–¥–∏–∞ –Ω–µ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ MediaService —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è Media
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ PublicationsService.addMedia –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

### –ö–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `callback_query:data`
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `Received callback from ...`
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–µ—Å—Å–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –ù–∞–ø–∏—à–∏ unit —Ç–µ—Å—Ç—ã –¥–ª—è TelegramSessionService
2. –ù–∞–ø–∏—à–∏ unit —Ç–µ—Å—Ç—ã –¥–ª—è telegram-content.helper
3. –ù–∞–ø–∏—à–∏ E2E —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ flow
4. –î–æ–±–∞–≤—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã
5. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
