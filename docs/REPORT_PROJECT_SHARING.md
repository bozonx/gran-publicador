# –û—Ç—á–µ—Ç: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤

**–î–∞—Ç–∞:** 2026-01-13  
**–í–µ—Ä—Å–∏—è:** 1.0

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞](#–æ–±–∑–æ—Ä-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)
2. [–ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ](#—á—Ç–æ-—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
3. [–ß—Ç–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ](#—á—Ç–æ-–Ω–µ-—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
4. [–ß—Ç–æ –ª–∏—à–Ω–µ–µ](#—á—Ç–æ-–ª–∏—à–Ω–µ–µ)
5. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–∏-–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)
6. [–ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π](#–ø–ª–∞–Ω-—É–ª—É—á—à–µ–Ω–∏–π)

---

## –û–±–∑–æ—Ä —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

–°–∏—Å—Ç–µ–º–∞ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü—É –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –Ω–∞–∑–Ω–∞—á–∞—Ç—å –∏–º —Ä–æ–ª–∏ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –º–æ–¥–µ–ª–∏ **ProjectMember** —Å —Ä–æ–ª–µ–≤—ã–º –¥–æ—Å—Ç—É–ø–æ–º.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
User (–í–ª–∞–¥–µ–ª–µ—Ü) ‚îÄ‚îÄ‚îê
                  ‚îú‚îÄ‚îÄ> Project
User (–£—á–∞—Å—Ç–Ω–∏–∫) ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îî‚îÄ‚îÄ> ProjectMember (—Ä–æ–ª—å: OWNER/ADMIN/EDITOR/VIEWER)
```

---

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚úÖ 1. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (Database Schema)

**–¢–∞–±–ª–∏—Ü–∞: `ProjectMember`**
- ‚úÖ `id` - UUID –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- ‚úÖ `projectId` - —Å–≤—è–∑—å —Å –ø—Ä–æ–µ–∫—Ç–æ–º
- ‚úÖ `userId` - —Å–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- ‚úÖ `role` - —Ä–æ–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ (enum: OWNER, ADMIN, EDITOR, VIEWER)
- ‚úÖ `createdAt` - –¥–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å `@@unique([projectId, userId])` - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Enum: `ProjectRole`**
```prisma
enum ProjectRole {
  OWNER   // –í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞
  ADMIN   // –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
  EDITOR  // –†–µ–¥–∞–∫—Ç–æ—Ä
  VIEWER  // –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å
}
```

### ‚úÖ 2. Backend API (NestJS)

**–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä: `ProjectsController`**

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-------|----------|----------|--------|
| GET | `/projects/:id/members` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ | ‚úÖ |
| POST | `/projects/:id/members` | –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ | ‚úÖ |
| PATCH | `/projects/:id/members/:userId` | –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ | ‚úÖ |
| DELETE | `/projects/:id/members/:userId` | –£–¥–∞–ª–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ | ‚úÖ |

**–°–µ—Ä–≤–∏—Å: `ProjectsService`**

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
- ‚úÖ `findMembers(projectId, userId)` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- ‚úÖ `addMember(projectId, userId, data)` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø–æ Telegram username
- ‚úÖ `updateMemberRole(projectId, userId, memberUserId, data)` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏
- ‚úÖ `removeMember(projectId, userId, memberUserId)` - —É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞

**DTO (Data Transfer Objects):**
- ‚úÖ `AddMemberDto` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ (username, role)
- ‚úÖ `UpdateMemberDto` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–æ–ª–∏ (role)

### ‚úÖ 3. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (Permissions)

**–°–µ—Ä–≤–∏—Å: `PermissionsService`**

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤:
- ‚úÖ `checkProjectAccess()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É (–ª—é–±–∞—è —Ä–æ–ª—å)
- ‚úÖ `checkProjectPermission()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–æ–ª–µ–π
- ‚úÖ `getUserProjectRole()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
1. –í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞ (`ownerId`) –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
2. –£—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `ProjectMember`
3. –†–æ–ª–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `allowedRoles` –º–∞—Å—Å–∏–≤

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ:**

```typescript
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞ - —Ç–æ–ª—å–∫–æ OWNER –∏ ADMIN
await this.permissions.checkProjectPermission(projectId, userId, [
  ProjectRole.OWNER,
  ProjectRole.ADMIN,
]);

// –ü—Ä–æ—Å–º–æ—Ç—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ - –ª—é–±–∞—è —Ä–æ–ª—å
await this.permissions.checkProjectPermission(projectId, userId, [
  ProjectRole.OWNER,
  ProjectRole.ADMIN,
  ProjectRole.EDITOR,
  ProjectRole.VIEWER,
]);
```

### ‚úÖ 4. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫:**
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ `telegramUsername` —Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Å–∏–º–≤–æ–ª–∞ `@`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (404 –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (403 –µ—Å–ª–∏ —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω)
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–æ–ª–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π

### ‚úÖ 5. Frontend UI (Nuxt/Vue)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

1. **`InviteMemberModal.vue`** ‚úÖ
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –ü–æ–ª—è: Telegram username, —Ä–æ–ª—å
   - –í–∞–ª–∏–¥–∞—Ü–∏—è: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ username
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API

2. **`ProjectMembersList.vue`** ‚úÖ
   - –¢–∞–±–ª–∏—Ü–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: –∞–≤–∞—Ç–∞—Ä, –∏–º—è, —Ä–æ–ª—å (badge)
   - –î–µ–π—Å—Ç–≤–∏—è: –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏, —É–¥–∞–ª–µ–Ω–∏–µ
   - Dropdown –º–µ–Ω—é –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - –ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞"
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ `canManageMembers()`

**Composable: `useProjects.ts`**

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
- ‚úÖ `fetchMembers(projectId)` - –∑–∞–≥—Ä—É–∑–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- ‚úÖ `addMember(projectId, username, role)` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
- ‚úÖ `updateMemberRole(projectId, userId, role)` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏
- ‚úÖ `removeMember(projectId, userId)` - —É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
- ‚úÖ `canManageMembers(project)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ UI:**
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞ (`/projects/[id]/settings.vue`)
- ‚úÖ –°–µ–∫—Ü–∏—è "Members" —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º `ProjectMembersList`
- ‚úÖ –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

### ‚úÖ 6. –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (i18n)

–ü–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è:
- ‚úÖ –†–æ–ª–∏: `roles.owner`, `roles.admin`, `roles.editor`, `roles.viewer`
- ‚úÖ –î–µ–π—Å—Ç–≤–∏—è: `projectMember.invite`, `projectMember.remove`, `projectMember.addSuccess`
- ‚úÖ –ü–æ–ª—è —Ñ–æ—Ä–º—ã: `projectMember.userUsername`, `common.role`

### ‚úÖ 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API Token Guard

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ scope –¥–ª—è API —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è `scopeProjectIds` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–∞

---

## –ß—Ç–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚ùå 1. –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è (Invitations)

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ–π—á–∞—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É, –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –¢–∞–±–ª–∏—Ü–∞ `ProjectInvitation` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
- –°—Ç–∞—Ç—É—Å—ã: `PENDING`, `ACCEPTED`, `DECLINED`, `EXPIRED`
- Email/Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–∏
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 7 –¥–Ω–µ–π)

**–°—Ö–µ–º–∞:**
```prisma
model ProjectInvitation {
  id          String   @id @default(uuid())
  projectId   String
  invitedBy   String
  email       String?
  telegramId  BigInt?
  role        ProjectRole
  status      InvitationStatus @default(PENDING)
  token       String   @unique
  expiresAt   DateTime
  createdAt   DateTime @default(now())
  
  project     Project  @relation(fields: [projectId], references: [id])
  inviter     User     @relation(fields: [invitedBy], references: [id])
}

enum InvitationStatus {
  PENDING
  ACCEPTED
  DECLINED
  EXPIRED
}
```

### ‚ùå 2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–æ–ª–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É–¥–∞–ª–µ–Ω–∏–∏ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü—É –æ –ø—Ä–∏–Ω—è—Ç–∏–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è

### ‚ùå 3. –ê—É–¥–∏—Ç –∏ –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è: –∫—Ç–æ, –∫–æ–≥–¥–∞, –∫–∞–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–∏–ª
- –¢–∞–±–ª–∏—Ü–∞ `ProjectMemberAuditLog`

**–°—Ö–µ–º–∞:**
```prisma
model ProjectMemberAuditLog {
  id          String   @id @default(uuid())
  projectId   String
  performedBy String
  action      String   // ADDED, ROLE_CHANGED, REMOVED
  targetUser  String
  oldRole     ProjectRole?
  newRole     ProjectRole?
  createdAt   DateTime @default(now())
}
```

### ‚ùå 4. –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ú–∞—Å—Å–æ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π
- –≠–∫—Å–ø–æ—Ä—Ç —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

### ‚ùå 5. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏ (permissions matrix)
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–æ–ª–∏
- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–∞–Ω–∞–ª–æ–≤/–ø—É–±–ª–∏–∫–∞—Ü–∏–π

**–ü—Ä–∏–º–µ—Ä –º–∞—Ç—Ä–∏—Ü—ã –ø—Ä–∞–≤:**
```typescript
const PERMISSIONS = {
  OWNER: ['*'], // –í—Å–µ –ø—Ä–∞–≤–∞
  ADMIN: [
    'project.edit',
    'members.add',
    'members.remove',
    'channels.create',
    'publications.create',
  ],
  EDITOR: [
    'publications.create',
    'publications.edit',
    'posts.create',
  ],
  VIEWER: [
    'publications.view',
    'posts.view',
  ],
};
```

### ‚ùå 6. –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –ü–æ–∏—Å–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –∏–º–µ–Ω–∏/username
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–æ–ª–∏
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–ø–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è, –∏–º–µ–Ω–∏, —Ä–æ–ª–∏)

### ‚ùå 7. –õ–∏–º–∏—Ç—ã –∏ –∫–≤–æ—Ç—ã

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ –ø—Ä–æ–µ–∫—Ç
- –†–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏

### ‚ùå 8. –ü–µ—Ä–µ–¥–∞—á–∞ –≤–ª–∞–¥–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞ –¥—Ä—É–≥–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç –Ω–æ–≤–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞

### ‚ùå 9. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –í–∫–ª–∞–¥ –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ (—Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –ø–æ—Å—Ç—ã)
- –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞

### ‚ùå 10. Unit —Ç–µ—Å—Ç—ã

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –¢–µ—Å—Ç—ã –¥–ª—è `ProjectsService` –º–µ—Ç–æ–¥–æ–≤ —Ä–∞–±–æ—Ç—ã —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- –¢–µ—Å—Ç—ã –¥–ª—è `PermissionsService`
- –¢–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
- E2E —Ç–µ—Å—Ç—ã –¥–ª—è UI

---

## –ß—Ç–æ –ª–∏—à–Ω–µ–µ

### ‚ö†Ô∏è 1. –†–æ–ª—å OWNER –≤ ProjectMember

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- –í —Å—Ö–µ–º–µ –ë–î –µ—Å—Ç—å –ø–æ–ª–µ `Project.ownerId` (–≤–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞)
- –í enum `ProjectRole` –µ—Å—Ç—å —Ä–æ–ª—å `OWNER`
- –í–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –≤ `ProjectMember` —Å —Ä–æ–ª—å—é `OWNER`

**–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```typescript
// –í–ª–∞–¥–µ–ª–µ—Ü –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:
project.ownerId === userId  // –ß–µ—Ä–µ–∑ –ø–æ–ª–µ –ø—Ä–æ–µ–∫—Ç–∞
member.role === ProjectRole.OWNER  // –ß–µ—Ä–µ–∑ —Ä–æ–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- **–í–∞—Ä–∏–∞–Ω—Ç 1 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π):** –£–±—Ä–∞—Ç—å `OWNER` –∏–∑ enum, –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ `Project.ownerId`
  ```prisma
  enum ProjectRole {
    ADMIN
    EDITOR
    VIEWER
  }
  ```
- **–í–∞—Ä–∏–∞–Ω—Ç 2:** –£–±—Ä–∞—Ç—å `ownerId` –∏–∑ `Project`, —Ö—Ä–∞–Ω–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ç–æ–ª—å–∫–æ –≤ `ProjectMember`
  - –ú–∏–Ω—É—Å: —É—Å–ª–æ–∂–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã (–Ω—É–∂–µ–Ω JOIN)
  - –ü–ª—é—Å: –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–æ–ª–µ–π

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ –µ—Å—Ç—å –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å.

### ‚ö†Ô∏è 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç CHECK constraint –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ OWNER –≤ –ø—Ä–æ–µ–∫—Ç–µ
- –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ OWNER —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π SQL

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∏–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä (–µ—Å–ª–∏ SQLite –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)
- –£—Å–∏–ª–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### üéØ 1. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π (High Priority)

**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–≥–ª–∞—Å–∏—Ç—å—Å—è –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ –∏ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ GDPR –∏ privacy best practices

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `ProjectInvitation`
2. –ò–∑–º–µ–Ω–∏—Ç—å `addMember()` –Ω–∞ `inviteMember()`
3. –î–æ–±–∞–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç `POST /invitations/:token/accept`
4. –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram Bot API

### üéØ 2. –î–µ—Ç–∞–ª—å–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∞–≤ (Medium Priority)

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –†–æ–ª–∏ —Å–ª–∏—à–∫–æ–º –æ–±—â–∏–µ
- –ù–µ—Ç –≥–∏–±–∫–æ—Å—Ç–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–∞–≤

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
const ROLE_PERMISSIONS = {
  ADMIN: {
    project: ['read', 'update'],
    members: ['read', 'create', 'update', 'delete'],
    channels: ['read', 'create', 'update', 'delete'],
    publications: ['read', 'create', 'update', 'delete'],
    posts: ['read', 'create', 'update', 'delete'],
  },
  EDITOR: {
    project: ['read'],
    members: ['read'],
    channels: ['read'],
    publications: ['read', 'create', 'update'],
    posts: ['read', 'create', 'update'],
  },
  VIEWER: {
    project: ['read'],
    members: ['read'],
    channels: ['read'],
    publications: ['read'],
    posts: ['read'],
  },
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function can(user: User, action: string, resource: string): boolean {
  const role = getUserRole(user);
  return ROLE_PERMISSIONS[role]?.[resource]?.includes(action) ?? false;
}
```

### üéØ 3. –ê—É–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (High Priority)

**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ compliance —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```typescript
// –í ProjectsService
async addMember(projectId: string, userId: string, data: AddMemberDto) {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
  
  // –î–æ–±–∞–≤–∏—Ç—å –∞—É–¥–∏—Ç –ª–æ–≥
  await this.auditLog.log({
    projectId,
    performedBy: userId,
    action: 'MEMBER_ADDED',
    targetUser: userToAdd.id,
    newRole: data.role,
    metadata: { username: data.username },
  });
}
```

### üéØ 4. Rate Limiting (Medium Priority)

**–ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π:**
```typescript
// –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –≤ –¥–µ–Ω—å
@Throttle({ default: { limit: 10, ttl: 86400000 } }) // 10 –≤ –¥–µ–Ω—å
@Post(':id/members')
async addMember() { ... }
```

### üéØ 5. –£–ª—É—á—à–µ–Ω–∏–µ UX

**Frontend —É–ª—É—á—à–µ–Ω–∏—è:**
1. **–ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –¥–ª—è username:**
   ```vue
   <UAutocomplete
     v-model="username"
     :search="searchUsers"
     placeholder="@username"
   />
   ```

2. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è:**
   ```vue
   <ConfirmModal
     :title="t('projectMember.removeConfirm')"
     :message="t('projectMember.removeWarning', { name: member.fullName })"
     @confirm="handleRemove"
   />
   ```

3. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞:**
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å, –∫–æ–≥–¥–∞ —É—á–∞—Å—Ç–Ω–∏–∫ –±—ã–ª –∞–∫—Ç–∏–≤–µ–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑

4. **Bulk actions:**
   - –í—ã–±–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –ú–∞—Å—Å–æ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ

### üéØ 6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–º–æ—É–¥–∞–ª–µ–Ω–∏–µ:**
   ```typescript
   if (memberUserId === userId) {
     throw new ForbiddenException('Cannot remove yourself from project');
   }
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–¥–º–∏–Ω–æ–≤:**
   ```typescript
   const adminCount = await this.prisma.projectMember.count({
     where: { projectId, role: ProjectRole.ADMIN }
   });
   
   if (adminCount <= 1 && member.role === ProjectRole.ADMIN) {
     throw new ForbiddenException('Cannot remove last admin');
   }
   ```

3. **–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π:**
   - –£–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞ —Å —Ä–æ–ª—å—é ADMIN
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏ –Ω–∞ ADMIN

### üéØ 7. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:**
   ```typescript
   @Cacheable({ ttl: 300 }) // 5 –º–∏–Ω—É—Ç
   async findMembers(projectId: string) { ... }
   ```

2. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤:**
   ```typescript
   async findMembers(projectId: string, page = 1, limit = 50) {
     return this.prisma.projectMember.findMany({
       where: { projectId },
       skip: (page - 1) * limit,
       take: limit,
     });
   }
   ```

3. **Eager loading:**
   ```typescript
   // –ó–∞–≥—Ä—É–∂–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–º–µ—Å—Ç–µ —Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–º
   include: { 
     user: {
       select: { id: true, fullName: true, avatarUrl: true }
     }
   }
   ```

### üéØ 8. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤:**

```typescript
// projects.service.spec.ts
describe('ProjectsService - Members', () => {
  describe('addMember', () => {
    it('should add member with valid username', async () => { ... });
    it('should throw NotFoundException for invalid username', async () => { ... });
    it('should throw ForbiddenException if user already member', async () => { ... });
    it('should throw ForbiddenException if not admin/owner', async () => { ... });
  });
  
  describe('updateMemberRole', () => {
    it('should update member role', async () => { ... });
    it('should not allow changing owner role', async () => { ... });
    it('should throw ForbiddenException if not admin/owner', async () => { ... });
  });
  
  describe('removeMember', () => {
    it('should remove member', async () => { ... });
    it('should not allow removing owner', async () => { ... });
    it('should throw ForbiddenException if not admin/owner', async () => { ... });
  });
});
```

---

## –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)

1. ‚úÖ **–£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ OWNER —Ä–æ–ª–∏**
   - –†–µ—à–∏—Ç—å: –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `ownerId` –∏–ª–∏ —Ç–æ–ª—å–∫–æ —Ä–æ–ª—å
   - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏

2. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã**
   - –ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ —Ä–∞–±–æ—Ç—ã —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
   - –¢–µ—Å—Ç—ã –¥–ª—è `PermissionsService`

3. ‚úÖ **–£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–º–æ—É–¥–∞–ª–µ–Ω–∏–µ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–¥–º–∏–Ω–æ–≤
   - –õ–∏–º–∏—Ç—ã –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

4. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –∞—É–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –¢–∞–±–ª–∏—Ü–∞ `ProjectMemberAuditLog`
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### –§–∞–∑–∞ 2: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (2-3 –Ω–µ–¥–µ–ª–∏)

1. ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π**
   - –¢–∞–±–ª–∏—Ü–∞ `ProjectInvitation`
   - API –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
   - UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º–∏
   - Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

2. ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∞–≤**
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏
   - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `PermissionsService`
   - –û–±–Ω–æ–≤–∏—Ç—å guards

3. ‚úÖ **–£–ª—É—á—à–µ–Ω–∏–µ UI**
   - –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–∞

### –§–∞–∑–∞ 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (3-4 –Ω–µ–¥–µ–ª–∏)

1. ‚úÖ **–ü–µ—Ä–µ–¥–∞—á–∞ –≤–ª–∞–¥–µ–Ω–∏—è**
   - API –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç –Ω–æ–≤–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞
   - UI –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–µ—Ä–µ–¥–∞—á–∏

2. ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤**
   - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç
   - –î–∞—à–±–æ—Ä–¥ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞

3. ‚úÖ **–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**
   - Bulk invite
   - Bulk role change
   - –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

### –§–∞–∑–∞ 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (1-2 –Ω–µ–¥–µ–ª–∏)

1. ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ü–∞–≥–∏–Ω–∞—Ü–∏—è
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

2. ‚úÖ **Rate limiting**
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
   - –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

3. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - –ú–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –ê–ª–µ—Ä—Ç—ã –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (4/5)

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ–µ–≤
- ‚úÖ –•–æ—Ä–æ—à–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π UI

**–°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
- ‚ùå –ù–µ—Ç –∞—É–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ unit —Ç–µ—Å—Ç–æ–≤
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–ª–∏ OWNER
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∞–≤

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

**Must Have (–ö—Ä–∏—Ç–∏—á–Ω–æ):**
1. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
2. –ê—É–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
3. Unit —Ç–µ—Å—Ç—ã
4. –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ OWNER

**Should Have (–í–∞–∂–Ω–æ):**
1. –î–µ—Ç–∞–ª—å–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∞–≤
2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
3. –ü–µ—Ä–µ–¥–∞—á–∞ –≤–ª–∞–¥–µ–Ω–∏—è
4. Rate limiting

**Nice to Have (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):**
1. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
2. –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
3. –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–æ–ª–∏
4. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

---

**–ê–≤—Ç–æ—Ä:** Antigravity AI  
**–ö–æ–Ω—Ç–∞–∫—Ç:** [GitHub Issues](https://github.com/bozonx/gran-publicador/issues)
